# CarCompat Introduction

> CarCompat is the static analysis tool we introduce in our paper "Analyzing and Detecting Compatibility Issues in Android Auto Apps".


We introduce `CarCompat`, a static analysis framework that detects compatibility problems in Android Auto apps. `CarCompat` constructs Car-Control Flow Graph (CCFG) to capture interactions between app components, lifecycle methods, and platform-specific callbacks. It applies specialized checkers to detect UI violations, media playback errors, and issues with voice command handling.
We evaluated `CarCompat` on a dataset of 44 Android Auto apps and detected 27 new issues, 9 of which have been confirmed by developers, and 3 of the confirmed issues have already been fixed. 
The results show that `CarCompat` helps developers identify and fix compatibility issues, improving the in-vehicle experience.


![Car compat analysis](https://anonymous.4open.science/r/carcompat-0503/carcompat-illustration.png "Overview of CarCompat")



This artifact contains the [apks](#application-resources), [python scripts](#python-scripts) we used to retrieve apks and repos with android auto support from F-Droid and GitHub for our study and evaluation, the [dataset](#data-files) of apps,  and also a binary of CarCompat. It also contains [reports](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ3/CorpusG%20-%20Detailed%20Analysis%20Report/) generated by CarCompat for each of these apks in [Corpus-G](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ3/Corpus-G.csv).


## Artifacts

### Python Scripts
- [fdroid_crawler.py](https://anonymous.4open.science/r/carcompat-0503/fdroid_crawler.py) - Python script we used for collecting Free and Open Source Software android APKs from [f-droid](https://f-droid.org/en/). Running this script required downloading the Selenium ChromeDriver.
- [helpers.py](https://anonymous.4open.science/r/carcompat-0503/fdroid_crawler.py) - Utility script for functions we used in the `fdroid_crawler.py` script.
- [github_code_search.py](https://anonymous.4open.science/r/carcompat-0503/github_code_search.py) - Python script we used for searching GitHub repositories for android auto patterns. 
- [github_repo_details.py](https://anonymous.4open.science/r/carcompat-0503/github_repo_details.py) - Python script we used for extracting detailed metadata from the GitHub repositories we retrieved.
- [car_feat.py](https://anonymous.4open.science/r/carcompat-0503/car_feat.py) - Python binary analysis tool used to perform Android Auto specific feature checks.

### Data Files
- [Corpus-L](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ1/Corpus-L.csv) - dataset of 4,387 apps used in our formative study.
- [Corpus-R](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ2/Corpus-R.csv) - dataset of 44 apps used in our formative study.
- [Corpus-G](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ3/Corpus-G.csv) - dataset of 44 apps used in our evaluation of CarCompat.

### Application Resources
- [apks](https://anonymous.4open.science/r/carcompat-0503/apks) - directory containing the apks in *Corpus-G* used for compatibility testing and analysis.
- [carcompat-0.3.0.jar](https://anonymous.4open.science/r/carcompat-0503/carcompat-0.3.0.jar) - our tool for android auto compatibility testing.

### Research Output
- [RQs](https://anonymous.4open.science/r/carcompat-0503/RQs/) - directory containing evaluation results organized by research questions. Includes statistical analysis, test outputs, and performance metrics used to validate project hypotheses.


### Artifact Directory Tree

```
/
├── RQs/
│   ├── RQ1/
│   │   ├── Corpus-L.csv
│   │   └── README.md
│   ├── RQ2/
│   │   ├── Corpus-R.csv
│   │   ├── Issues.csv
│   │   └── README.md
│   ├── RQ3/
│   │   ├── CorpusG - Detailed Analysis Report/
│   │   ├── Corpus-G.csv
│   │   ├── README.md
│   │   └── RQ3.csv
│   └── RQ4/
│       ├── RQ4 - Detailed Issues Report/
│       ├── README.md
│       └── RQ4.csv
├── RQ5/README.md
├── RQ6/README.md
├── RQ7/README.md
├── apks/
├── LICENSE
├── README.md
├── car_feat.py
├── carcompat-0.3.0.jar
├── fdroid_app_categories.csv
├── fdroid_crawler.py
├── github_code_search.py
├── github_repo_details.py
├── helpers.py
└── setup.sh
```

## Requirements

- Java 17
- Python 3

## Download

To run the analysis using the binary, you need to have Java 17 and Python3 installed. Then follow the instructions

1. Git clone the GitHub repo or Download the repository from [here](https://anonymous.4open.science/r/carcompat-0503).

2. Open your terminal and navigate to the root of the project.

3. Ensure you follow the setup instructions provided below before running the analysis. You must:
- clone the `android-platforms` in the root of the project
- run the `setup.sh` script

4. Download the archived apks from [here](https://archive.org/download/apks_20250315), unzip and place them in the `/apks` folder.

## Setup Instructions

```shell
$ cd carcompat-0503
$ git clone https://github.com/Sable/android-platforms
$ chmod +x setup.sh
$ ./setup.sh # Install python dependencies
```

## Run

All apks used for the evaluation section of our paper should be downloaded from the provided link and placed [here](https://anonymous.4open.science/r/carcompat-0503/apks/).

```shell
# example usage
$ java -jar carcompat-0.3.0.jar -a apks/retromusicplayer.apk
```

## Evaluation Results

The reports for our research are available in the [RQs](https://anonymous.4open.science/r/carcompat-0503/RQs/) folder.
Detailed reports for each apk analysis has been saved and made available [here](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ3/) and [here](https://anonymous.4open.science/r/carcompat-0503/RQs/RQ4/).

## License
This artifact is licensed under the GPL v3 License. See [LICENSE](https://anonymous.4open.science/r/carcompat-0503/LICENSE) for details.
